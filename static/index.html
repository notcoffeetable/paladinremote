<!DOCTYPE html>
<html>
  <html>
    <title>Pi Control</title>
  </html>
  <body>
    <script type="text/javascript" src="./jquery-1.8.2.min.js"></script>
    <script type="text/javascript"
    src="web/portals/jwplayer.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script type="text/javascript">
      $.ajaxSetup ({
          cache: false
      })
      function createButtons(data) {
          for (var i=0;i<data.length;i++)
          { 
              $('#shots').append($('<button/>', {
                  onclick: "$.ajax('wirecast/changeShotIndex?i=" + (i + 1) + "')",
                  html:data[i]
              }))}
      }
      $(function() {
        $.ajax('wirecast/shotnames').done(function(data) {
          //data.shift();
           createButtons(data);
        });
      });
    </script>
<div id="preview"></div>
<script>
  var server = "rtmp://" + window.location.hostname + "/live/";
  jwplayer("preview").setup({
    file: server + "demolow",
    subscribe: true,
    height: 240,
    width: 320
  });
</script>
<br />
<div class="section">
  <div class="sec_head">Broadcast</div>
  
  <button class="start"
  onclick="$.ajax('wirecast/startBroadcast')">Start</button> 
<button class="stop" onclick="$.ajax('wirecast/stopBroadcast')">Stop</button>
</div>

<div class="section">
  <div class="sec_head">Record</div>
  <button class="start"
  onclick="$.ajax('wirecast/startRecord')">Start</button> 
<button class="stop" onclick="$.ajax('wirecast/stopRecord')">Stop</button>
</div>

<div class="section">
  <div class="sec_head">Switch</div>
  <div id="shots">
  </div>
</div>


  </body>
</html>
